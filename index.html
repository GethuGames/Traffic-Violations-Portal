<!DOCTYPE html>
<html ng-app="TrafficApp">
<head>
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-beta.5/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <script src="oauth.js"></script>
    <script src="trafficListController.js"></script>
    <script src="userProfileController.js"></script>
    <script>
        OAuth.initialize('vtV0ch3lZ_SPyiVNi4G2LVGrrFg');
    </script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <title></title>
</head>

<body>
    <div class="topUserBar" ng-controller="UserProfileController">
        <a href="#" id="loginButton" ng-click="oAuthLogin()">Login</a>
    </div>
    <h1>Traffic Violation Portal</h1>

    <div ng-controller="TrafficListController">
        <form ng-submit="addNewVideo()">
            <input type="text" ng-model="newVid.videoURL" placeholder="Video URL here"> <br/>
            <input type="text" ng-model="newVid.locality" placeholder="locality"> <br/>
            <input type="text" ng-model="newVid.town" placeholder="town"> <br/>
            <input type="text" ng-model="newVid.city" placeholder="city"> <br/>
            <input type="text" ng-model="newVid.pincode" placeholder="Pin Code" value="600015"> <br/>
            <input type="text" ng-model="newVid.time" placeholder="yyyy-mm-dd hh:mm" value="2014-03-20 08:20"> <br/>
            <input type="SUBMIT" value="Add Video" class="btn-primary">
        </form>

        <hr/>

        <span> Wow !! We got {{videos.length}} videos in total and only {{1000 - videos.length}} to go </span>
        <div ng-repeat="vid in videos" class="videoRow">
            <p style="display: block">Video uploaded by <b>{{vid.uploadedBy}}</b> and analyzed by <b>{{vid.analyzedBy}}</b> </p>
            <div style="height: 100px; display: block">
                <div style="float: left"> <img src="" width="150" height="100" style="float: left"> </div>
                <div style="float: left; overflow-x: auto; overflow-y: hidden">
                    <div class="violationCard"> <b class="violationCount">2</b> Signal Jump </div>
                    <div class="violationCard"> <b class="violationCount">12</b> Stop Line </div>
                    <div class="violationCard"> <b class="violationCount">8</b> No Helmet </div>
                    <div class="violationCard"> <b class="violationCount">1</b> Sun Screen </div>
                    <div class="violationCard"> <b class="violationCount">3</b> Improper Number Plate </div>
                </div> 
            </div>
            <p style="display: block"> {{vid.time}} at {{vid.locality + ', ' + vid.town}} </p>
        </div>
    </div>

</body>

</html>
